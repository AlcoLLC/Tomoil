document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".product-opinions .opinions");if(e){let n=0,a,c=document.querySelectorAll(".opinion"),t=c.length;function o(){1<t&&(a=setInterval(()=>{d()},4e3))}function d(){c[n].classList.remove("active"),n=(n+1)%t,c[n].classList.add("active")}c.forEach((e,t)=>{e.addEventListener("click",()=>{clearInterval(a),t===n?d():(c[n].classList.remove("active"),n=t,c[n].classList.add("active")),o()})});let i=0,s;e.addEventListener("touchstart",e=>{i=e.touches[0].clientX}),e.addEventListener("touchend",e=>{s=e.changedTouches[0].clientX,e=i-s,50<Math.abs(e)&&(clearInterval(a),0<e?d():(c[n].classList.remove("active"),n=(n-1+t)%t,c[n].classList.add("active")),o())}),o(),document.addEventListener("visibilitychange",()=>{document.hidden?clearInterval(a):o()})}e=document.getElementById("openReviewModal");let t=document.getElementById("reviewModalOverlay");var n=document.getElementById("closeModal"),a=document.getElementById("review-form");let c=document.querySelectorAll(".star-selector .star"),i=document.getElementById("rating-input"),s=document.getElementById("form-error-message"),r=0;function l(){t&&(t.classList.remove("active"),document.body.style.overflow="auto",s)&&(s.textContent="")}e&&e.addEventListener("click",function(e){e.preventDefault(),t&&(t.classList.add("active"),document.body.style.overflow="hidden")}),n&&n.addEventListener("click",l),t&&t.addEventListener("click",function(e){e.target===t&&l()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t&&t.classList.contains("active")&&l()}),c.forEach(e=>{e.addEventListener("click",function(){r=parseInt(this.dataset.rating),i&&(i.value=r),s&&(s.textContent=""),v()}),e.addEventListener("mouseenter",function(){var n,e=parseInt(this.dataset.rating);n=e,c.forEach((e,t)=>{t<n?e.classList.add("active"):e.classList.remove("active")})})});e=document.querySelector(".star-selector");function v(){c.forEach((e,t)=>{t<r?e.classList.add("active"):e.classList.remove("active")})}e&&e.addEventListener("mouseleave",function(){v()}),a&&a.addEventListener("submit",function(e){s&&(s.textContent=""),0===r&&(e.preventDefault(),s)&&(s.textContent="Please select a rating before submitting.")})});