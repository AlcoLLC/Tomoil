window.addEventListener("scroll",function(){var e=document.querySelector(".navbar"),t=document.querySelector("nav"),e=(20<window.scrollY?(e.classList.remove("transparent"),e.classList.add("scrolled"),t.classList.add("scrolled-nav")):(e.classList.add("transparent"),e.classList.remove("scrolled"),t.classList.remove("scrolled-nav")),document.querySelector(".fixed-whatsapp"));100<window.scrollY?(e.style.opacity="1",e.style.visibility="visible"):(e.style.opacity="0",e.style.visibility="hidden")}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".lang-dropdown-btn"),n=document.getElementById("languageDropdown");var a=document.querySelectorAll("#languageDropdown .lang-option");let o=document.querySelectorAll(".mobile-languages .lang-btn");function i(e){var t,n,a,o=(()=>{var e=document.querySelector('meta[name="csrf-token"]');if(e)return e.getAttribute("content");if(e=document.querySelector('input[name="csrfmiddlewaretoken"]'))return e.value;for(t of e=document.cookie.split(";")){var[t,n]=t.trim().split("=");if("csrftoken"===t)return n}return null})(),i=(e=>{let t=window.location.pathname,n=t,a="en";for(var o of["de","es","fr","it","ca","zh-hans"]){if(t.startsWith(`/${o}/`)){a=o,n=t.substring(o.length+1);break}if(t==="/"+o){a=o,n="/";break}}return"en"===e?n:"/"===n?`/${e}/`:n.startsWith("/")?"/"+e+n:`/${e}/`+n})(e)+window.location.search;o?(e=e,t=i,o=o,(n=document.createElement("form")).method="POST",n.action="/i18n/setlang/",n.style.display="none",(a=document.createElement("input")).type="hidden",a.name="csrfmiddlewaretoken",a.value=o,n.appendChild(a),(o=document.createElement("input")).type="hidden",o.name="language",o.value=e,n.appendChild(o),(a=document.createElement("input")).type="hidden",a.name="next",a.value=t,n.appendChild(a),document.body.appendChild(n),n.submit()):window.location.href=i}function s(){let a=window.location.pathname;1<a.length&&a.endsWith("/")&&(a=a.slice(0,-1)),document.querySelectorAll(".navbar .nav-section ul li a").forEach(e=>{let t=e.getAttribute("href");var n;(t=t&&1<t.length&&t.endsWith("/")?t.slice(0,-1):t)===a?(e.classList.add("active"),(n=e.closest("li"))&&n.classList.contains("dropdown")&&n.classList.add("active")):(e.classList.remove("active"),(n=e.closest("li"))&&n.classList.contains("dropdown")&&(n.querySelector(".dropdown-content a.active")||n.classList.remove("active")))}),document.querySelectorAll(".mobile-nav-list a").forEach(e=>{let t=e.getAttribute("href");var n;(t=t&&1<t.length&&t.endsWith("/")?t.slice(0,-1):t)===a?(e.classList.add("active"),(n=e.closest(".mobile-dropdown-content"))&&(n.classList.add("active"),n=n.closest(".mobile-dropdown"))&&n.classList.add("active")):(e.classList.remove("active"),(n=e.closest(".mobile-dropdown-content"))&&0===n.querySelectorAll("a.active").length&&(n.classList.remove("active"),e=n.closest(".mobile-dropdown"))&&e.classList.remove("active"))})}t&&n&&(t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.classList.toggle("show")}),document.addEventListener("click",function(e){t.contains(e.target)||n.contains(e.target)||n.classList.remove("show")})),a.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();e=this.getAttribute("data-lang");n&&n.classList.remove("show"),i(e)})}),o.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();e=this.getAttribute("data-lang");o.forEach(e=>e.classList.remove("active")),this.classList.add("active"),i(e)})});a=document.getElementById("hamburger");let c=document.getElementById("mobile-menu");if(a&&c){let t=a.querySelector("i"),n=document.createElement("div");function l(){c.classList.remove("active"),n.classList.remove("active"),t&&(t.className="fas fa-bars"),document.body.style.overflow=""}n.className="mobile-overlay",document.body.appendChild(n),a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),(c.classList.contains("active")?l:(c.classList.add("active"),n.classList.add("active"),t&&(t.className="fa-solid fa-xmark"),document.body.style.overflow="hidden",s))()}),n.addEventListener("click",function(){l()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&c.classList.contains("active")&&l()}),window.addEventListener("resize",function(){768<window.innerWidth&&c.classList.contains("active")&&l()})}let r=document.querySelectorAll(".mobile-dropdown");r.forEach(t=>{var e=t.querySelector(".mobile-dropdown-head");let n=t.querySelector(".mobile-dropdown-content");e&&n&&e.addEventListener("click",function(e){e.preventDefault(),r.forEach(e=>{e!==t&&(e.classList.remove("active"),e=e.querySelector(".mobile-dropdown-content"))&&e.classList.remove("active")}),t.classList.toggle("active"),n.classList.toggle("active")})});{var d,u=window.location.pathname;let e="en";for(d of["de","es","fr","it","ca","zh-hans"])if(u.startsWith(`/${d}/`)||u==="/"+d){e=d;break}document.querySelectorAll("[data-lang]").forEach(e=>{e.classList.remove("active")}),document.querySelectorAll(`[data-lang="${e}"]`).forEach(e=>{e.classList.add("active")}),t&&(a={en:"EN",de:"DE",es:"ES",fr:"FR",it:"IT",ca:"CA","zh-hans":"汉语"}[e]||"EN",t.innerHTML=a+' <i class="fa-solid fa-angle-down"></i>')}s(),window.testLanguageSwitch=function(e){i(e)}});